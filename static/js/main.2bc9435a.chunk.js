(this["webpackJsonptic-tac-toe-ts"]=this["webpackJsonptic-tac-toe-ts"]||[]).push([[0],{183:function(e,t,n){},184:function(e,t,n){},185:function(e,t,n){},280:function(e,t,n){"use strict";n.r(t);var o=n(0),c=n(18),r=n.n(c),a=(n(183),n(184),n(54)),s=n(41),i=n(289),l=n(290),u=n(61),j=(n(185),n(22)),d=n(119),f=n.n(d),b=n(147),O=n(294),g=n(148),h=n.n(g),p="https://d9u7x85vp9.execute-api.us-east-2.amazonaws.com/production",m=function(e,t,n,o){var c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return Object(O.a)([e,t],Object(b.a)(f.a.mark((function e(){var t,c,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.post(p+n,o,{headers:{authorization:sessionStorage.getItem("token"),Accept:"application/json","Content-Type":"application/json"}});case 2:return t=e.sent,c=t.data,r=t.status,console.log("POST ".concat(n," : ").concat(c," ")),console.log("AXIOS Status : ".concat(n," : ").concat(r)),e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)}))),c)},x=n(8),v={labelCol:{span:8},wrapperCol:{span:16}},y={wrapperCol:{offset:8,span:16}},k=function(){var e=Object(j.g)(),t=Object(o.useState)(""),n=Object(s.a)(t,2),c=n[0],r=n[1],d=m("auth","auth","/auth",{email:c},{enabled:!1}),f=d.data,b=d.error,O=d.refetch;Object(o.useEffect)((function(){f&&f&&!0===f.success&&f.token&&(r(c),sessionStorage.setItem("email",c),sessionStorage.setItem("token","Bearer "+f.token),e.push("/game-page"))}),[f,e,c]),b&&console.log(b);return Object(x.jsxs)("div",{className:"center-content",children:[Object(x.jsx)("h2",{children:" Please Enter your email to Login! "}),Object(x.jsxs)(i.a,Object(a.a)(Object(a.a)({},v),{},{name:"login",onFinish:function(e){console.log("Login Form values : ",e),r(e.email),O()},children:[Object(x.jsx)(i.a.Item,{name:"email",label:"E-mail",rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}],children:Object(x.jsx)(l.a,{size:"large"})}),Object(x.jsx)(i.a.Item,Object(a.a)(Object(a.a)({},y),{},{children:Object(x.jsx)(u.a,{type:"primary",htmlType:"submit",style:{background:"#2eaf7d",border:"1px solid #2eaf7d"},children:"Submit"})}))]}))]})},S=n(293),w=n(149),C=n(167),I=n(66),E=n(291),F=n(288),M=n(171),P=n(285),T=n(292),A=n(286),L=n(287),R=function(e){var t=e.value,n=e.hover,o=e.onClick,c=e.onMouseOver,r=e.onMouseOut,a=1===n?{width:"75px",height:"75px",border:"2px solid #fff",background:"#02353c"}:{width:"75px",height:"75px",border:"2px solid #fff",background:"#2eaf7d"};return Object(x.jsx)(u.a,{type:"primary",size:"large",style:a,id:t,onMouseOver:c,onMouseOut:r,onClick:o,children:t||" "})},B=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]],X=function(e){for(var t=0;t<e.length;t++)if(""===e[t])return!1;return!0},z=function(e){for(var t=0;t<B.length;t++){var n=Object(s.a)(B[t],3),o=n[0],c=n[1],r=n[2];if(e[o]&&e[o]===e[c]&&e[c]===e[r])return e[o]}return null},N=function(e){return[].concat.apply([],e)},q=function(e){for(var t=e*e,n=[],o=0;o<t;o++)n[o]=o;for(var c=[];n.length;)c.push(n.splice(0,e));return console.log(c),c}(3),D=function(){var e=Object(j.g)();console.log(e);var t=Object(o.useState)(Array(9).fill(null)),n=Object(s.a)(t,2),c=n[0],r=n[1],a=Object(o.useState)([]),i=Object(s.a)(a,2),l=i[0],d=i[1],f=Object(o.useState)([]),b=Object(s.a)(f,2),O=b[0],g=b[1],h=Object(o.useState)(null),p=Object(s.a)(h,2),v=p[0],y=p[1],k=Object(o.useState)(!1),S=Object(s.a)(k,2),w=S[0],C=S[1],I=Object(o.useState)(null),E=Object(s.a)(I,2),F=E[0],D=E[1],G=m("game","game","/engine",{board:l},{enabled:!1}),H=G.data,J=G.error,Q=G.isLoading,W=G.refetch;(!sessionStorage.getItem("token")||J&&J.message&&(J.message.includes("401")||J.message.includes("403")))&&e.push("/logout"),Object(o.useEffect)((function(){if(H){console.log("Data from the game ai engine ",H);var e=H.board,t=N(e),n=z(t)||X(t);D(!0===n?"The Game is a draw":n?"X"===n?"You win":"AI win":""),X(t)||r(t)}}),[H]),Object(o.useEffect)((function(){l&&l.length>0&&W()}),[l,W]),Object(o.useEffect)((function(){console.log("State changes of squares ",c,O)}),[c,O]);var Y=function(e){return Object(x.jsx)(R,{value:c[e],hover:O[e],onClick:function(){return function(e){console.log("Clicked Button ",e);var t=Object(M.a)(c);if(!t[e]&&!z(c)){t[e]="X";var n=t,o=[],a=0;n.forEach((function(e){return e=null===e?"":e,o[a++]=e,e}));for(var s=[];o.length;)s.push(o.splice(0,3));console.log("Filled values",n,s),d(s),r(t)}}(e)},onMouseOver:function(){return function(e){var t=Array(9).fill(0);t[e]=1;for(var n=[];t.length;)n.push(t.splice(0,3));console.log(n);var o=0,c=0;n.forEach((function(e,t){e.forEach((function(e,n){1===e&&(o=t,c=n)}))}));for(var r=0;r<3;r++)n[o][r]=1,n[r][c]=1;console.log(o,c,n),g(N(n))}(e)},onMouseOut:function(){return function(e){var t=Array(9).fill(0);g(t)}()}})};return Object(x.jsx)("div",{className:"center-content",children:J?Object(x.jsx)("div",{children:"ERROR!"}):Q?Object(x.jsx)("div",{children:Object(x.jsx)(P.a,{})}):Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{style:{color:"#001818",textAlign:"center",fontStyle:"bold",fontSize:"20px"},children:F||""}),Object(x.jsx)("div",{children:Object(x.jsx)(T.a,{title:"Suggested Move",visible:w,cancelButtonProps:{style:{display:"none"}},onOk:function(){C(!1)},onCancel:function(){C(!1)},children:v?Object(x.jsxs)("div",{children:["Place X in position ",v," "]}):Object(x.jsx)("div",{children:"No Moves to suggest"})})}),q.map((function(e,t){return Object(x.jsx)(A.a,{children:e.map((function(e){return Object(x.jsx)(L.a,{children:Y(e)},e)}))},t)})),Object(x.jsxs)("div",{style:{float:"center",marginTop:"5px"},children:[Object(x.jsx)(u.a,{type:"primary",style:{marginRight:"5px",marginLeft:"-3px",background:"#FFF",color:"#02353c",border:"1px solid #2eaf7d"},onClick:function(){window.location.reload()},children:"Reset Game"}),Object(x.jsx)(u.a,{type:"primary",disabled:F,style:{background:"#FFF",color:"#02353c",border:"1px solid #2eaf7d"},onClick:function(){if(!F){var e=function(e){var t,n=e.filter((function(e){return"X"!==e&&"O"!==e}));if(n&&1===n.length)return e.forEach((function(e,n){""===e&&(t=n)})),t;for(var o=0;o<B.length;o++){var c=Object(s.a)(B[o],3),r=c[0],a=c[1],i=c[2];if("O"===e[r]&&"O"===e[a]||"O"===e[a]&&"O"===e[i]||"O"===e[r]&&"O"===e[i]){var l=B[o].filter((function(t){return"O"!==e[t]}));if("X"!==e[l])return l}}return null}(c);y(e),C(!0),console.log("suggested move ",v)}},children:"Suggest Move"})]})]})})},G=E.a.Header,H=E.a.Content,J=function(){var e=Object(j.g)();return Object(x.jsx)("div",{style:{color:"#008080"},children:Object(x.jsxs)(E.a,{style:{minHeight:"100vh"},children:[Object(x.jsx)(G,{children:Object(x.jsx)("div",{style:{float:"right"},children:Object(x.jsx)(u.a,{type:"primary",style:{background:"#2eaf7d",border:"1px solid #2eaf7d"},icon:Object(x.jsx)(F.a,{}),onClick:function(){console.log("Logout Button Pushed"),e.push("/logout")}})})}),Object(x.jsx)(H,{children:Object(x.jsx)(D,{})})]})})},Q=n(176),W=function(e){var t=e.component,n=Object(Q.a)(e,["component"]);return console.log("Authenticated Page ",sessionStorage.getItem("token")),Object(x.jsx)(j.b,Object(a.a)(Object(a.a)({},n),{},{render:function(e){return sessionStorage.getItem("token")?Object(x.jsx)(t,Object(a.a)({},e)):Object(x.jsx)(j.a,{to:{pathname:"/",state:{from:e.location}}})}}))},Y=new S.a({defaultOptions:{queries:{refetchOnWindowFocus:!1,staleTime:0,retry:!1},mutations:{}}});var K=function(){return Object(x.jsx)("div",{className:"app-content",children:Object(x.jsxs)(w.a,{client:Y,children:[Object(x.jsx)(C.ReactQueryDevtools,{initialIsOpen:!1}),Object(x.jsx)(I.a,{forceRefresh:!0,children:Object(x.jsxs)(j.d,{children:[Object(x.jsx)(j.b,{path:"/",component:k,exact:!0}),Object(x.jsx)(W,{path:"/game-page",component:J,exact:!0}),Object(x.jsx)(j.b,{path:"/logout",render:function(e){return sessionStorage.removeItem("token"),sessionStorage.removeItem("email"),Object(x.jsx)(j.a,{to:"/"})},exact:!0})]})})]})})},U=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,295)).then((function(t){var n=t.getCLS,o=t.getFID,c=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),o(e),c(e),r(e),a(e)}))};r.a.render(Object(x.jsx)(K,{}),document.getElementById("root")),U()}},[[280,1,2]]]);
//# sourceMappingURL=main.2bc9435a.chunk.js.map